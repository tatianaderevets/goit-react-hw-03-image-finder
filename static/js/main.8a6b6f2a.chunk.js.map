{"version":3,"sources":["cervices/imageApi.js","components/Searchbar/Searchbar.js","components/Imagegallery/ImageGalleryItem/ImageGalleryItem.js","components/Imagegallery/ImageGallery.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["axios","defaults","baseURL","searchQuery","currentPage","per_page","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","pictures","onOpenModal","map","id","webformatURL","user","largeImageURL","onClick","src","alt","data-source","ImageGallery","Modal","window","addEventListener","key","onCloseModal","modalImg","App","isLoading","error","showModal","target","dataset","source","nodeName","onChangeQuery","fetchPictures","options","imageApi","prevState","catch","finally","scrollTo","top","document","querySelector","scrollHeight","behavior","prevProps","shoultdRenderLoadMoreButton","length","style","position","left","transform","color","height","width","timeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a6b6f2a.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\"\r\n\r\nconst fetchPictures = ({searchQuery = '', currentPage = 1, per_page = 12}) => {\r\n    return axios\r\n        .get(`?key=21313596-53d18e4a7f22f2d08b7d5fbe5&q=${searchQuery}&image_type=photo&orientation=horizontal&per_page=${per_page}&page=${currentPage}`)\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchPictures };","\r\nimport React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value })\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        console.log(this.state);\r\n        this.props.onSubmit(this.state.query)\r\n        this.setState({ query: ''})\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <header  className=\"Searchbar\">\r\n  <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n     type=\"text\"\r\n     value={this.state.query}\r\n      onChange= {this.handleChange}\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react'\r\n\r\nconst ImageGalleryItem = ({pictures, onOpenModal}) => {\r\n    return (\r\npictures.map(({ id, webformatURL, user, largeImageURL }) =>\r\n          <li key={id} onClick = {onOpenModal} className=\"ImageGalleryItem\" >\r\n            <img src={webformatURL}\r\n              alt={user}\r\n              data-source={largeImageURL}\r\n              onOpenModal={onOpenModal}\r\n              className=\"ImageGalleryItem-image\" />\r\n          </li>)\r\n    )\r\n\r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react'\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\n\r\n\r\nconst ImageGallery = ({pictures, onOpenModal}) => {\r\n    return (\r\n        <ul className=\"ImageGallery\" id='imagesList'>\r\n            <ImageGalleryItem pictures={pictures} onOpenModal={onOpenModal}/>\r\n      </ul>\r\n\r\n    );\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport { Component } from 'react';\r\n\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', (e) => {\r\n            \r\n            if (e.key === 'Escape') {\r\n                this.props.onCloseModal(e)\r\n            }\r\n        });\r\n    }\r\n    render()\r\n    {return (\r\n        <div onClick={this.props.onCloseModal} className=\"Overlay\">\r\n            <div className=\"Modal\">\r\n                <img src={this.props.modalImg} alt=\"\" />\r\n            </div>\r\n        </div>\r\n    )\r\n    };\r\n};\r\n\r\nexport default Modal;\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport imageApi from './cervices/imageApi';\nimport Searchbar from './components/Searchbar'\nimport ImageGallery from './components/Imagegallery'\n\nimport Modal from './components/Modal';\nimport Loader from \"react-loader-spinner\";\n\n\n\n// const API_KEY = '21313596-53d18e4a7f22f2d08b7d5fbe5';\n// const BASE_URL = 'https://pixabay.com/api/';\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\n\nclass App extends Component {\n  \n  state = {\n    pictures: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalImg: '',\n  };\n\n  onOpenModal = (e) => {\n    this.setState({modalImg: e.target.dataset.source, showModal: true})\n  }\n\n  onCloseModal = (e) => {\n    if (e.target.nodeName !== 'IMG') {\n      this.setState({showModal: false, modalImg: ''})\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures()\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, pictures: [], error: null, });\n    // console.log(query);\n\n   \n    \n  };\n\n  fetchPictures = () => {\n    const { currentPage, searchQuery } = this.state;\n    \n    const options = {\n      searchQuery,\n      currentPage,\n    }\n\n    this.setState({ isLoading: true });\n\n    imageApi.fetchPictures(options)\n      .then(hits => {\n        \n        // console.log(response.data.hits)\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      }).catch(error => this.setState({ error }))\n      .finally(() => {this.setState({ isLoading: false })\n      window.scrollTo({\n        top: document.querySelector('#imagesList').scrollHeight,\n        behavior: 'smooth',\n      });\n  });\n    \n\n    \n  }\n\n\n\n\n\n  render() {\n    const { pictures, isLoading, error } = this.state;\n    const shoultdRenderLoadMoreButton = pictures.length > 0 && !isLoading;\n\n    return (\n    <>\n        <div className=\"App\">\n          {error && <h1>Error!!!</h1>}\n          <Searchbar onSubmit={this.onChangeQuery} />\n          <ImageGallery pictures={pictures} onOpenModal={this.onOpenModal}/>\n      \n          {isLoading && <div style = {{position: 'fixed', top: '50%', left: \"50%\", transform: \"translate(-50%, -50%)\"}}>\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} timeout={3000} />\n          </div>}\n          \n\n          {shoultdRenderLoadMoreButton && (<button className=\"Button\" onClick={this.fetchPictures} type=\"button\">\n            Load more\n          </button>\n          )}\n          {this.state.showModal && <Modal modalImg={this.state.modalImg} onCloseModal={this.onCloseModal}/>}\n        </div>\n    </>\n  );\n}\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}